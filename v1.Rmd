---
title: "R Notebook"
output: html_notebook
---


```{r}
library(readr)
library(stringr)
library(tidyr)
```

```{r}
foo = read_csv("yelp_academic_dataset_business_train")
# bar = read_csv("yelp_academic_dataset_checkin_train")
cats = foo$categories %>% 
  strsplit(", ") %>%
  unlist() %>% 
  strsplit("\\[") %>% 
  unlist() %>% 
  strsplit("\\]") %>% 
  unlist() %>% 
  unique()
cats = cats[!is.na(cats)]
for (i in 1:length(cats)){
  foo[cats[i]] = 0
}
for (cat in cats){
  for (j in 1:ncol(foo)){
    if (length(grep(cat, unlist(foo[j, "categories"]))) > 0){
      foo[j, cat] = 1
    }
  }
}
```
